<!DOCTYPE html>
<html lang=en>
  <head>
    <!-- Required -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="../css/styles.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <!-- Highlight.js -->
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/atom-one-dark-reasonable.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <!-- Description -->
    <meta name="description" content="TDA API Walkthrough" />
    <title>TDA API Walkthrough</title>
</head>

  <body>
    <div class="section columns is-fullheight">
      
      <!-- Navigation Menu -->
      <aside class="menu column is-narrow is-fullheight is-hidden-mobile" style="position: fixed; width: 250px">
	<ul class="menu-list">
	  <li><a href="/tda-api-walkthrough">Introduction</a>
	    <ul>
	      <li><a href="/tda-api-walkthrough/requirements">Requirements</a></li>
	    </ul>
	  </li>
	  <li><a href="/tda-api-walkthrough/background">Backround Info</a>
	    <ul>
	      <li><a href="/tda-api-walkthrough/background/command-line">Command Line & Git</a></li>
	      <li><a href="/tda-api-walkthrough/background/databases">Databases</a></li>
	      <li><a class="is-active">HTTP Requests</a></li>
	      <li><a href="/tda-api-walkthrough/background/oauth2">OAuth 2.0</a></li>
	    </ul>
	  </li>
	  <li><a href="/tda-api-walkthrough/building">Building the App</a>
	    <ul>
	      <li><a href="/tda-api-walkthrough/building/authentication">Authentication</a></li>
	      <li><a href="/tda-api-walkthrough/building/data-retrieval">Data Retrieval</a></li>
	      <li><a href="/tda-api-walkthrough/building/saving-to-disk">Saving to Disk</a></li>
	    </ul>
	  </li>
	  <li><a href="/tda-api-walkthrough/visualization">Data Visualization</a></li>
	</ul>
      </aside>
      <div class="column is-narrow is-fullheight is-hidden-mobile" style="width: 250px"></div>

      <!-- Content -->
      <div class="container column is-fullheight is-marginless content">
	<h1 class="title is-2">Background Information: HTTP Requests</h1>
	<p>Communication over the web is primarily done through a request-response framework. That is to say, when you visit a webpage, your browser sends a <b>request</b> to the page's web server. This request contains information about exactly what resource you want (e.g. the homepage), and possibly some other necessary information (this will be expanded on later).</p>

	<p>Upon receiving this request, the web server decides how to handle it, and sends a <b>response</b> back to your browser. This response could contain the requested resource (e.g. the raw HTML text), or it could be a simple status code (e.g. 404).</p>
	
	<p>These requests and responses have a specific format (see these links for the exact format: <a href="https://www.tutorialspoint.com/http/http_requests.htm">Request</a>, <a href="https://www.tutorialspoint.com/http/http_responses.htm">Response</a>), but we don't need to know them in such great detail. The main things to take note of are:</p>

	<h3 class="title">Requests</h3>
	<ul>
	  <li><p>The <b>method</b>. This tells the server what to do upon receiving your response. The two most common methods are <code>GET</code> (to get data from a server) and <code>POST</code> (to send data to a server).</p></li>
	  <li><p>The <b>resource URI</b>. The place where you want to send to request to (essentially the URL of the webpage).</p></li>
	  <li><p>The <b>headers</b>. We don't usually have to bother with this, but headers exist to provide meta-data to the server (i.e. data which describes your request, but doesn't <i>really</i> have anything to do with what you want from the server). For example, this could include your language, your text encoding, or your <b>user-agent</b> (the device you're sending the request from).
	  <li><p>Extra data. As mentioned earlier, requests can provide some additional information to the server. In a <code>GET</code> request, this information is provided in the <b>query string</b>. A query string is part of the resource URI, and you have probably seen it in action before! An example might look like this:</p>
	    <pre class="is-paddingless"><code class="http" style="padding-left:20px; padding-right:20px">
https://www.google.com/search?q=example_query
                              └──────┬──────┘
                          this is the query string
	    </code></pre>
	    <p>When we visit the URL above, we are sending a <code>GET</code> request to  <code>https://www.google.com/search</code> with the parameter <code>q</code> having the value <code>example_query</code>. Note that <code>q</code> is an arbitrarily defined name by Google&mdash;it could have been named anything, but it's probably shorthand for <code>query</code>.</p>
	    <p>In the web server's backend, there exists logic to parse the resource URI into the URL and the query. Once google finds out that we're looking for <code>example_query</code>, it returns us a response containing all the relevant search results.</p>
	    <p>As you might have guessed, <code>GET</code> requests are really only meant to <i>retrieve</i> resources, and should not be used to upload information to a server. If we want to upload information, we should use <code>POST</code> requests, and include the extra data in the request's <b>body</b>.</p>
	    <p>For example, if we <a href="https://developer.mozilla.org/en-US/docs/Tools/Network_Monitor">inspect our login request to Google</a>, we find the following:</p>
	    <pre class="is-paddingless"><code class="http" style="padding-left:20px; padding-right:20px">
Method : POST
URL    : https://accounts.google.com/signin/v2/challenge/password/empty
Body   : {
    "identifier" : our email
    "continue"   : where we should be redirected to
    "password"   : our password
    "ca"         : no idea
    "ct"         : no idea
}
	    </code></pre>
	    <p>As you can see, the request body contains the necessary information the server needs to authenticate our login request. The body is often encoded in <a href="https://www.w3schools.com/js/js_json_intro.asp">JSON</a>, which is sort of the default encoding for most web communication. You can think of it like a Python dictionary, except the keys can only be strings.</p>
	  </li>
	</ul>

	<h3 class="title">Responses</h3>
	<ul>
	  <li>The <b>status code</b>. This is a number that indicates the status of your request. The most famous status code is probably <code>404</code>&mdash;most people will have encountered this at one point or another, and it is the status code for "not found". There are a lot more, but we don't have to concern ourselves too much with knowing all of them.</li>
	  <li>The <b>headers</b>. Same as request headers. In practice I don't think I've ever had any reason to inspect response headers.</li>
	  <li>The <b>body</b>. This field contains (hopefully) what you originally requested from the server. It could be the HTML of the webpage, or in the case of APIs, it could be some JSON-encoded data.</li>
	</ul>

	<p>And that's pretty much it! Of course, we haven't learned how to actually <i>send</i> requests yet, but with this information, you should be able to read and understand TDA's API documentation. Check out <a href="https://developer.tdameritrade.com/account-access/apis/get/accounts/%7BaccountId%7D-0">this page</a> and see if you can make sense of it.</p>

	<!-- Nav Footer -->
	<nav class="level" style="padding-top: 30px">
	  <div class="level-item level-left">
	    <a class="button is-outlined is-borderless is-info"
	       href="/tda-api-walkthrough/background/databases">
	      <span class="icon">
		<i class="fas fa-angle-left"></i>
	      </span>
	      <span>Databases</span>
	    </a>
	  </div>
	  <div class="level-item level-right">
	    <a class="button is-outlined is-borderless is-info"
	       href="/tda-api-walkthrough/background/oauth2">
	      <span>OAuth 2.0</span>
	      <span class="icon">
		<i class="fas fa-angle-right"></i>
	      </span>
	    </a>
	  </div>
	</nav>
      </div>

    </div>
  </body>
</html>
